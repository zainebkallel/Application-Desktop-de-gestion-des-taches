<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="http://schemas.awesome.incremented/wpf/xaml/fontawesome.sharp"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        xmlns:vm="clr-namespace:WpfApp1.ViewModels"
        xmlns:conv="clr-namespace:WpfApp1.Converters"
        mc:Ignorable="d"
        Title="MainWindow" Height="600" 
        Width="900"
        WindowStyle="None"
        Background="Transparent"
        ResizeMode="NoResize"
        AllowsTransparency="True" 
        WindowStartupLocation="CenterScreen"
        >
    <Window.DataContext>
        <vm:MainWindowViewModel />
    </Window.DataContext>
   
    
    <Border Background="AliceBlue" CornerRadius="20">
      <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
        
        <Border Background="#FF2D2D30" Height="30" Grid.Row="0" MouseDown="TitleBar_MouseDown" CornerRadius="20,20,0,0">
            <DockPanel>
                <TextBlock Text="My Custom Window" VerticalAlignment="Center" Margin="10,0,0,0" Foreground="White" />
                <!-- Close Button -->
                <Button Content="X" Width="30" Height="30" HorizontalAlignment="Right" VerticalAlignment="Center"
        Background="Transparent" Foreground="White" BorderBrush="Transparent"
       Click="CloseButton_Click" />
            </DockPanel>
        </Border>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="700"/>
            </Grid.ColumnDefinitions>
            <Border CornerRadius="0,0,0,10"
                    Grid.Column="0"
                    >
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0.7">
                        <GradientStop Color="{StaticResource secondaryBackColor1}" Offset="0"/>
                        <GradientStop Color="{StaticResource secondaryBackColor2}" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    
                <RadioButton Style="{StaticResource menuButton}"
                                 Tag="{StaticResource color1}"
                                Margin="0,70,0,5"
                                 IsChecked="True"
                                 >
                    <StackPanel Orientation="Horizontal">
                        <fa:IconImage Icon="Home" Style="{StaticResource menuButtonIcon}"/>
                        <TextBlock Text="Home" Style="{StaticResource menuButtonText}"/>
                    </StackPanel>
                </RadioButton>
                <RadioButton Style="{StaticResource menuButton}"
                                 Tag="{StaticResource color1}"
                                 >
                    <StackPanel Orientation="Horizontal">
                        <fa:IconImage Icon="UserGroup" Style="{StaticResource menuButtonIcon}"/>
                        <TextBlock Text="Projects" Style="{StaticResource menuButtonText}"/>
                    </StackPanel>
                </RadioButton>
                    <RadioButton Style="{StaticResource menuButton}"
                        Tag="{StaticResource color1}"
                 >
                        <StackPanel Orientation="Horizontal">
                            <fa:IconImage Icon="Tools" Style="{StaticResource menuButtonIcon}"/>
                            <TextBlock Text="Settings" Style="{StaticResource menuButtonText}"/>
                        </StackPanel>
                    </RadioButton>
                </StackPanel>
            </Border>
          
          
            <Grid Grid.Column="1">
              <Grid  Grid.RowSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>

                    <RowDefinition Height="60"/>

                    <RowDefinition Height="453"/>

                </Grid.RowDefinitions>

               

                <Grid Grid.Row="1" Background="AliceBlue">
                    <Label Style="{StaticResource Header1}" Content="My Tasks" 
                    FontFamily="Montserrat"
                    VerticalAlignment="Center"
                    Padding="13 0 0 0"
                    IsHitTestVisible="False"/>

                    

                <!--ADD new task -->
                <Button HorizontalAlignment="Right" Height="40" Width="100"
                     Margin="43,10,20,10" Content="Add Task"
                     
                   Style="{StaticResource Add}"
                  Command="{Binding IOpenNewWindow }" />

              
             
                </Grid>
                <Grid Grid.Row="2">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- ToDo List --> 
                        
                        <Grid Grid.Column="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Grid.Row="0" Text="To Do" FontWeight="Bold" FontSize="16" Margin="10,2,0,10"/>

                            <ListBox Grid.Row="1" Name="ToDoListBox" ItemsSource="{Binding ToDoTasks}"
                           ScrollViewer.VerticalScrollBarVisibility="Auto" Height="500" 
                          Background="Transparent" BorderThickness="0">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="10" Background="#F8F9FA" Padding="10" Margin="3">
                                            <StackPanel>
                                                <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="SemiBold" Foreground="#333333" Margin="0,0,0,5"/>
                                                <TextBlock Text="{Binding Description}" TextWrapping="Wrap" FontSize="14" Foreground="#555555"/>
                                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                                    <TextBlock Text="Category: " Foreground="#888888" FontSize="12"/>
                                                    <TextBlock Text="{Binding Category}" Foreground="#333333" FontSize="12"/>
                                                </StackPanel>
                                                        <StackPanel>
                                                            <TextBlock Text="Date:" FontWeight="Bold" FontSize="12" Foreground="#888888"/>
                                                            <TextBlock Text="{Binding StartDate, StringFormat='{}{0:MMM dd, yyyy}'}" FontSize="12" Foreground="#333333"/>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="10">
                                                            <!-- Display StartDate and EndDate in the format "12 AM - 2 PM" -->
                                                            <TextBlock Text="{Binding StartDate, StringFormat='{}{0:hh:mm tt}'}"
                                                               FontSize="12"
                                                                   Foreground="#333333"
                                                                           Margin="0,0,5,0"/>
                                                            <TextBlock Text=" - "
                                                                       FontSize="12"
                                                                      Foreground="#333333"
                                                                             Margin="0,0,5,0"/>
                                                            <TextBlock Text="{Binding EndDate, StringFormat='{}{0:hh:mm tt}'}"
                                                                  FontSize="12"
                                                              Foreground="#333333"/>
                                                        </StackPanel>

                                                        <!-- Icons for Edit and Delete -->
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="10,10,0,0">
                                                    <Button Content="✏️" Command="{Binding DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
                                CommandParameter="{Binding}" Style="{StaticResource IconButtonStyle}"/>
                                                    <Button Content="🗑️" Command="{Binding DataContext.DeleteCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
                                CommandParameter="{Binding}" Style="{StaticResource IconButtonStyle}" Margin="10,0,0,0"/>
                                                </StackPanel>
                                                <Button Content="Mark it done" Command="{Binding DataContext.ChangeStatusCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
                            CommandParameter="{Binding}" Style="{StaticResource PrimaryButtonStyle}" Margin="0,10,0,0"/>
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                        </Grid>



                        <!-- In Progress List -->

                        <Grid Grid.Column="1">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>


                            <TextBlock Grid.Row="0" Text="In Progress" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <ListBox Grid.Row="1" Name="ProgListBox"  ItemsSource="{Binding ProgTasks}" 
                                    ScrollViewer.VerticalScrollBarVisibility="Auto" Height="500" 
 Background="Transparent" BorderThickness="0">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="10" Background="#F8F9FA" Padding="10" Margin="3">
                                            <StackPanel>
                                                <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="SemiBold" Foreground="#333333" Margin="0,0,0,5"/>
                                                <TextBlock Text="{Binding Description}" TextWrapping="Wrap" FontSize="14" Foreground="#555555"/>
                                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                                    <TextBlock Text="Category: " Foreground="#888888" FontSize="12"/>
                                                    <TextBlock Text="{Binding Category}" Foreground="#333333" FontSize="12"/>
                                                </StackPanel>
                                                        <StackPanel>
                                                            <TextBlock Text="Date:" FontWeight="Bold" FontSize="12" Foreground="#888888"/>
                                                            <TextBlock Text="{Binding StartDate, StringFormat='{}{0:MMM dd, yyyy}'}" FontSize="12" Foreground="#333333"/>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="10">
                                                            <!-- Display StartDate and EndDate in the format "12 AM - 2 PM" -->
                                                            <TextBlock Text="{Binding StartDate, StringFormat='{}{0:hh:mm tt}'}"
                 FontSize="12"
                  Foreground="#333333"
                  Margin="0,0,5,0"/>
                                                            <TextBlock Text=" - "
                     FontSize="12"
                     Foreground="#333333"
                       Margin="0,0,5,0"/>
                                                            <TextBlock Text="{Binding EndDate, StringFormat='{}{0:hh:mm tt}'}"
                           FontSize="12"
           Foreground="#333333"/>
                                                        </StackPanel>
                                                        <!-- Icons for Edit and Delete -->
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="10,10,0,0">
                                                    <Button Content="✏️" Command="{Binding DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
       CommandParameter="{Binding}" Style="{StaticResource IconButtonStyle}"/>
                                                    <Button Content="🗑️" Command="{Binding DataContext.DeleteCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
       CommandParameter="{Binding}" Style="{StaticResource IconButtonStyle}" Margin="10,0,0,0"/>
                                                </StackPanel>
                                                        <Button Content="Move to Completed" Command="{Binding DataContext.ChangeStatusCommand2, RelativeSource={RelativeSource AncestorType=ListBox}}" CommandParameter="{Binding}" Style="{StaticResource PrimaryButtonStyle}"  Margin="0,10,0,0" />
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                           
                        </Grid>

                        <!-- Completed List -->
                        <Grid Grid.Column="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>


                            <TextBlock Grid.Row="0" Text="Completed" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                            <ListBox Grid.Row="1" Name="CompListBox"  ItemsSource="{Binding CompTasks}"                                     
                                                               ScrollViewer.VerticalScrollBarVisibility="Auto" Height="500" 
Background="Transparent" BorderThickness="0">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="10" Background="#F8F9FA" Padding="10" Margin="3">
                                            <StackPanel>
                                                <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="SemiBold" Foreground="#333333" Margin="0,0,0,5"/>
                                                <TextBlock Text="{Binding Description}" TextWrapping="Wrap" FontSize="14" Foreground="#555555"/>
                                                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                                    <TextBlock Text="Category: " Foreground="#888888" FontSize="12"/>
                                                    <TextBlock Text="{Binding Category}" Foreground="#333333" FontSize="12"/>
                                                </StackPanel>
                                               
                                                 <StackPanel>
                                                      <TextBlock Text="Date:" FontWeight="Bold" FontSize="12" Foreground="#888888"/>
                                                            <TextBlock Text="{Binding StartDate, StringFormat='{}{0:MMM dd, yyyy}'}" FontSize="12" Foreground="#333333"/>
                                                 </StackPanel>
                                                 <StackPanel Orientation="Horizontal" Margin="10">
                                                            <!-- Display StartDate and EndDate in the format "12 AM - 2 PM" -->
                                                            <TextBlock Text="{Binding StartDate, StringFormat='{}{0:hh:mm tt}'}"
                                                                  FontSize="12"
                                                                   Foreground="#333333"
                                                                   Margin="0,0,5,0"/>
                                                            <TextBlock Text=" - "
                                                                      FontSize="12"
                                                                      Foreground="#333333"
                                                                        Margin="0,0,5,0"/>
                                                            <TextBlock Text="{Binding EndDate, StringFormat='{}{0:hh:mm tt}'}"
                                                                            FontSize="12"
                                                            Foreground="#333333"/>
                                                  </StackPanel>

                                                        <!-- Icons for Edit and Delete -->
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="10,10,0,0">
                                                    <Button Content="✏️" Command="{Binding DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
      CommandParameter="{Binding}" Style="{StaticResource IconButtonStyle}"/>
                                                    <Button Content="🗑️" Command="{Binding DataContext.DeleteCommand, RelativeSource={RelativeSource AncestorType=ListBox}}" 
      CommandParameter="{Binding}" Style="{StaticResource IconButtonStyle}" Margin="10,0,0,0"/>
                                                </StackPanel>
                                               
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Grid>

                    </Grid>
                </Grid>
            </Grid>
           </Grid>
        </Grid>
  </Grid>
    </Border>

</Window>
